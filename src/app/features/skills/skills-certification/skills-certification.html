<section class="px-1 py-3 sm:px-3 sm:py-4" aria-labelledby="certifications-section">
  <h2
    id="certifications-section"
    class="text-accent/60 mb-4 text-lg font-semibold uppercase tracking-280 sm:text-xl sm:mb-6"
  >
    Certifications
  </h2>

  <div class="mx-auto grid w-full grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 md:gap-5" role="list">
    @for (certification of certifications(); track certification.id; let idx = $index) {
      <article
        class="relative rounded-2xl border border-primary/25 bg-gradient-to-br from-background/80 via-background/60 to-primary/10 p-3 sm:p-4 shadow-lg shadow-primary/15 transition-all duration-300 hover:border-accent/40 hover:shadow-accent/30 hover:-translate-y-1"
        role="article"
        [style.animation-delay]="idx * 100 + 'ms'"
      >
        <header class="mb-3 flex items-center gap-2 sm:gap-3 sm:mb-4">
          <div
            class="flex-shrink-0 inline-flex h-12 w-12 items-center justify-center rounded-xl border border-accent/40 bg-gradient-to-br from-accent/30 via-background/50 to-primary/20"
          >
            <app-svg-icon
              [name]="'ph:student-bold'"
              [height]="'24'"
              [width]="'24'"
              class="h-5 w-5 sm:h-6 sm:w-6"
              [attr.aria-hidden]="true"
            />
          </div>
          <h3
            class="text-sm font-semibold uppercase tracking-250 text-primary/70 sm:text-base leading-tight flex-1"
            id="certification-{{ certification.id }}"
          >
            {{ certification.title }}
          </h3>
        </header>

        <div
          class="relative mt-2 min-h-[160px] overflow-hidden sm:mt-3 sm:min-h-[180px] md:min-h-[160px]"
          [attr.aria-labelledby]="'certification-' + certification.id"
        >
          <section
            class="absolute inset-0 w-full transition-all duration-500 ease-out"
            [class.transform]="getCurrentSlide(certification.id) !== 0"
            [class.translate-x-0]="getCurrentSlide(certification.id) === 0"
            [class.-translate-x-full]="getCurrentSlide(certification.id) !== 0"
            [class.opacity-100]="getCurrentSlide(certification.id) === 0"
            [class.opacity-0]="getCurrentSlide(certification.id) !== 0"
            [attr.aria-hidden]="getCurrentSlide(certification.id) !== 0"
            id="certification-{{ certification.id }}-description"
          >
            <p class="text-text/90 text-xs leading-relaxed sm:text-sm">
              {{ certification.description }}
            </p>
          </section>

          <section
            class="absolute inset-0 w-full transition-all duration-500 ease-out"
            [class.transform]="getCurrentSlide(certification.id) !== 1"
            [class.translate-x-0]="getCurrentSlide(certification.id) === 1"
            [class.translate-x-full]="getCurrentSlide(certification.id) !== 1"
            [class.opacity-100]="getCurrentSlide(certification.id) === 1"
            [class.opacity-0]="getCurrentSlide(certification.id) !== 1"
            [attr.aria-hidden]="getCurrentSlide(certification.id) !== 1"
          >
            <h4
              class="mb-2 text-xs font-semibold uppercase tracking-200 text-accent/60 sm:text-sm sm:mb-3"
              id="skills-{{ certification.id }}"
            >
              Compétences acquises
            </h4>
            <ul
              class="space-y-1 pl-0 text-xs sm:space-y-1.5 sm:text-sm text-text/80"
              [attr.aria-labelledby]="'skills-' + certification.id"
            >
              @for (skill of certification.skillsLearned; track skill) {
                <li>• {{ skill }}</li>
              }
            </ul>
          </section>
        </div>

        <footer class="mt-3 flex flex-col gap-2 sm:mt-4 sm:gap-3">
          <div
            class="flex items-center gap-2 sm:gap-2.5 px-2 py-1.5 rounded-lg border border-primary/20 bg-gradient-to-br from-background/60 via-background/40 to-primary/10"
          >
            <app-svg-icon
              [name]="'fxemoji:trophy'"
              [height]="'20'"
              [width]="'20'"
              class="h-5 w-5 sm:h-6 sm:w-6"
              [attr.aria-hidden]="true"
            />
            <p class="text-primary/70 text-xs font-semibold uppercase tracking-150 sm:text-sm">
              {{ certification.status }}
            </p>
          </div>

          <nav class="flex gap-2" aria-label="Navigation des détails de certification">
            <app-button
              [color]="getCurrentSlide(certification.id) === 0 ? 'secondary' : 'accent'"
              [customClass]="
                'flex-1 px-3 py-2 text-xs rounded-xl font-semibold sm:px-4 sm:py-2.5 sm:text-sm transition-all duration-300'
              "
              (buttonClick)="goToSlide(certification.id, 0)"
              [attr.aria-pressed]="getCurrentSlide(certification.id) === 0"
              [attr.aria-controls]="'certification-' + certification.id + '-description'"
            >
              Description
            </app-button>
            <app-button
              [color]="getCurrentSlide(certification.id) === 1 ? 'secondary' : 'accent'"
              [customClass]="
                'flex-1 px-3 py-2 text-xs rounded-xl font-semibold sm:px-4 sm:py-2.5 sm:text-sm transition-all duration-300'
              "
              (buttonClick)="goToSlide(certification.id, 1)"
              [attr.aria-pressed]="getCurrentSlide(certification.id) === 1"
              [attr.aria-controls]="'skills-' + certification.id"
            >
              Compétences
            </app-button>
          </nav>
        </footer>
      </article>
    }
  </div>
</section>
